# 第五章 · 循环和关系表达式
## `for`循环
> for循环基本结构
> for(初始，检测，更新)

> - C++中任何值或任何有效的值和运算符的组合都是表达式，每个表达式都有值
> - 当判定表达式的值这种操作改变了内存中的数据的值时，我们说表达式有副作用
> - `a++`意味着使用a当前的值计算表达式，然后将a加1；`++a`意味着先将b加1，然后使用新的值来计算表达式

### for循环的特性
- 入口循环

### 副作用和顺序点
- 副作用：指在计算表达式时对某些东西进行了修改
- 顺序点：程序执行过程中的一个点，进入下一步之前将确保对所有的副作用都进行了评估，**C++中的一个分号就是一个顺序点**
- C++11中使用顺序这个概念，旨在更清晰描述多线程编辑

### 前缀格式和后缀格式
- 使用运算符的表达式为完整表达式则副作用将在程序进入下一步之前完成，前缀和后缀最终效果相同

### 递增/递减运算符和指针
- 前缀和解除引用优先级相同；后缀优先级更高
- *++pt 加指针；++\*pt 加指针指向的值
- `x = *pt++` 加指针，但是解引的是原来的地址，之后pt的值才自增

### 语句块
- C++忽略缩进
- 语句块中的变量仅在语句块中可用

### 逗号运算符
- 将多个表达式合并为一个
- 逗号运算符是一个顺序点（从前往后的计算顺序）

### 关系表达式
- 关系运算符的优先级比算术运算符低
- C-style字符串
    - 应该使用C-style字符串库中的`strcmp()`函数比较
    - [5.11compstr1.cpp](../../code/bookcode/C++primerplus/chapter5/5.11_compstr1.cpp)
- 比较`string`类字符串
    - 运算符重载，可以直接使用关系表达式

## `while`循环
**`while`循环是没有初始化和更新部分的`for`循环**
> 设计循环的指导原则
> - 制定循环终止的条件
> - 在首次测试之前初始化条件
> - 在条件再次被测试之前更新条件
### 编写延时循环
[5.14waiting.cpp](../../code/bookcode/C++primerplus/chapter5/5.14_waiting.cpp)

## `do while`循环
**出口条件循环，先执行循环体，再判定测试表达式**

## 基于范围的`for`循环(C++11)
**类似`python`的`for`循环**

## 循环和文本输入
### 使用原始的`cin`进行输入
[5.16textin.cpp](../../code/bookcode/C++primerplus/chapter5/5.16_textin.cpp)
- 问题：`cin`会忽略空格和换行符
### 使用`cin.get(char)`进行输入
> 函数重载：统一名称，不同参数，不同函数
### 文件尾条件
- 输入来自于文件
    - 和键盘输入的关系
        - 很多操作系统支持重定向
        - 很多操作系统允许使用键盘来模拟文件尾条件
- EOF 不表示输入中的字符，而是指出没有字符
> `cin.get(ch)`与`cin.get()`的区别
> - `cin.get(ch)`返回istream对象，`cin.get()`返回编码

## 嵌套循环和二维数组

