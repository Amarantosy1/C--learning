# 第四章 · 复合类型
> 复合类型是基于整型和浮点类型创建的
> 影响最深远的复合类型是类

## 数组(array)
**数组是一种能够储存多个同类型的值的数据格式**
- 数组的声明
    - 储存在每个元素中的值的类型
    - 数组名
    - 数组中的元素类
    - 声明格式：`typeName arrayName[arraySize]`
    - 数组的索引：从0开始

["4.1arrayone.cpp"](../../code/bookcode/C++primerplus/chapter4/4.1_arrayone.cpp)

> 数组为什么被称为复合类型
> **因为它是使用其他类型创建的**

### 数组的初始化规则
- 只有在定义数组时才能使用初始化
- 可以使用下标分别给数组中的元素赋值
- 初始化提供的值可以少于数组的元素数目
- 最好不要让编译器计算元素个数

### C++11数组初始化方法
- 可以省略等号
- 不包含则为零
- 禁止缩窄转换

## 字符串
> 两种风格：C-style string / 基于string类库的方法

### C-style
- 不应该将不是字符串的字符数组当作字符串来处理（字符数组要再最后包括空字符`\0`才能称为字符串）
- 字符串常量：只使用一个引号括起来，不用显示地包括空字符
- 拼接字符串常量：将两个用引号括起来的字符串合并为一个
- 在数组中使用字符串
    - 将数组初始化为字符串常量
    - 将键盘或文件输入读入到数组中
    - ["4.2string.cpp"](../../code/bookcode/C++primerplus/chapter4/4.2_string.cpp)
    - sizeof返回数组的长度；strlen()返回字符串长度，且只计算可见的字符
- 字符串输入
    - ["4.3instr1.cpp"](../../code/bookcode/C++primerplus/chapter4/4.3_instr1.cpp)
    - cin通过空白来确定字符串的结束位置，cin在获取字符数组输入时只读取一个单词
    - ["4.4instrl.cpp"](../../code/bookcode/C++primerplus/chapter4/4.4and5_instr2.cpp)
    - getline()每次读取一行，通过换行符来确定行尾，用空字符替换换行符
    - cin.get()不再读取并丢弃换行符，而是将其留在输入队列中
    > getline()和get()的区别：get()使输入更仔细，它们的行为稍有不同
    - 空行和其他问题
- 混合输入字符串和数字
    - 注意cin后的换行符会被下一个getline()读取

### string类简介
> string类定义隐藏了字符串的数组性质，能够像处理普通变量那样处理字符串

["4.7strtype.cpp"](../../code/bookcode/C++primerplus/chapter4/4.7_strtype.cpp)

- 类设计让程序能自动处理string的大小
- C++11也允许列表初始换用于字符串
- 赋值、拼接和附加
    - string允许string对象互相赋值
    - 使用+合并两个string对象
    
